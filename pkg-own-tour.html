<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Drag & Drop (No Database)</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    padding: 30px;
}

h2 {
    text-align: center;
    margin-bottom: 20px;
}

.container {
    display: flex;
    gap: 30px;
    max-width: 900px;
    margin: auto;
    flex-wrap: wrap;
}

.box {
    flex: 1;
    min-height: 300px;
    background: #ffffff;
    border: 2px dashed #bbb;
    border-radius: 8px;
    padding: 15px;
    transition: background 0.3s ease, border-color 0.3s ease;
}

.box.drag-over {
    background: #eef7ff;
    border-color: #3498db;
}

.box h3 {
    text-align: center;
}

.item {
    padding: 12px;
    margin: 8px 0;
    background: #3498db;
    color: #fff;
    border-radius: 6px;
    text-align: center;
    cursor: grab;
    user-select: none;
    touch-action: none;
    transition: transform 0.2s ease, opacity 0.2s ease;
}

.item.dragging {
    opacity: 0.6;
    transform: scale(1.05);
}

@media (max-width: 700px) {
    .container {
        flex-direction: column;
    }
}
</style>
</head>
<body>

<h2>Drag & Drop (Touch Friendly, No DB)</h2>

<div class="container">
    <!-- LEFT SIDE -->
    <div class="box" id="leftBox">
        <h3>Available Items</h3>
        <div class="item" data-id="1">Item One</div>
        <div class="item" data-id="2">Item Two</div>
        <div class="item" data-id="3">Item Three</div>
        <div class="item" data-id="4">Item Four</div>
    </div>

    <!-- RIGHT SIDE -->
    <div class="box" id="rightBox">
        <h3>Selected Items</h3>
    </div>
</div>

<script>
let draggedItem = null;

/* ---------- DRAG (DESKTOP + TOUCH) ---------- */
document.querySelectorAll('.item').forEach(item => {
    item.draggable = true;

    item.addEventListener('dragstart', () => {
        draggedItem = item;
        item.classList.add('dragging');
    });

    item.addEventListener('dragend', () => {
        item.classList.remove('dragging');
    });

    item.addEventListener('pointerdown', e => {
        draggedItem = item;
        item.setPointerCapture(e.pointerId);
    });

    item.addEventListener('pointerup', e => {
        const target = document.elementFromPoint(e.clientX, e.clientY);
        const box = target?.closest('.box');
        if (box) handleDrop(box);
        draggedItem = null;
    });
});

/* ---------- DROP ZONES ---------- */
document.querySelectorAll('.box').forEach(box => {
    box.addEventListener('dragover', e => {
        e.preventDefault();
        box.classList.add('drag-over');
    });

    box.addEventListener('dragleave', () => {
        box.classList.remove('drag-over');
    });

    box.addEventListener('drop', e => {
        e.preventDefault();
        box.classList.remove('drag-over');
        handleDrop(box);
    });
});

/* ---------- DROP LOGIC ---------- */
function handleDrop(targetBox) {
    if (!draggedItem) return;

    const id = draggedItem.dataset.id;

    // Prevent duplicates in same box
    if (targetBox.querySelector(`[data-id="${id}"]`)) return;

    targetBox.appendChild(draggedItem);
}
</script>

</body>
</html>
